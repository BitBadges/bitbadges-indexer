
> bitbadges-indexer@1.0.0 test:coverage
> jest ./src --coverage --runInBand --detectOpenHandles

---------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                                                                                                           
---------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                                    |   55.65 |    38.88 |   40.91 |   56.61 |                                                                                                                                                                                                                                                                                                                             
 src                                         |    47.9 |    20.84 |   29.34 |   47.95 |                                                                                                                                                                                                                                                                                                                             
  constants.ts                               |     100 |       50 |     100 |     100 | 1                                                                                                                                                                                                                                                                                                                           
  indexer-vars.ts                            |     100 |     62.5 |     100 |     100 | 15-31                                                                                                                                                                                                                                                                                                                       
  indexer.ts                                 |   76.17 |       40 |   47.36 |   75.77 | 74-77,83,93,103,108,128-129,138-139,145,156,162-169,221-233,242-297,422-425,434,465-466,479,487,491                                                                                                                                                                                                                         
  oauth.ts                                   |   36.98 |    29.26 |       0 |   34.28 | 29-33,48-54,67-72,78-79,84-85,95-120,142-166,171-195                                                                                                                                                                                                                                                                        
  poll.ts                                    |   17.37 |     4.16 |      10 |   18.13 | 99-100,111,120-123,134,149-228,242-334,340-467,471-475,484-578,583-585,589,593-601,611-898                                                                                                                                                                                                                                  
  queue.ts                                   |   71.98 |    38.12 |      50 |    71.8 | 68,97-98,111-121,148-165,174,193,199-225,256,267,283,294,310,326,335,345,377,425,429,443,455-470,526,529,532,545,595-599,680,692-694,790-802,814                                                                                                                                                                            
 src/blockin                                 |   79.36 |    75.63 |   72.91 |   79.22 |                                                                                                                                                                                                                                                                                                                             
  BtcDriver.ts                               |      50 |        0 |      20 |      50 | 23-43                                                                                                                                                                                                                                                                                                                       
  CosmosDriver.ts                            |   43.47 |        0 |      25 |   43.47 | 32-63                                                                                                                                                                                                                                                                                                                       
  EthDriver.ts                               |      75 |        0 |      60 |      75 | 24-28,37                                                                                                                                                                                                                                                                                                                    
  SolDriver.ts                               |    37.5 |        0 |      20 |    37.5 | 24-52                                                                                                                                                                                                                                                                                                                       
  blockin.ts                                 |      75 |       20 |     100 |   73.33 | 15,19-23                                                                                                                                                                                                                                                                                                                    
  blockin_handlers.ts                        |   81.52 |    75.53 |     100 |   82.78 | 134,142,167-168,204-209,213,217,221,225,253,261,292-296,304,380,384-386,428-429                                                                                                                                                                                                                                             
  scopes.ts                                  |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                                                                             
  verifyBitBadgesAssets.ts                   |   89.84 |    82.35 |     100 |   89.07 | 68,75,79,89,93,101,105,170,191,196-198,243                                                                                                                                                                                                                                                                                  
 src/chain-client                            |   77.38 |     46.8 |   71.42 |   78.31 |                                                                                                                                                                                                                                                                                                                             
  badges_stargateclient.ts                   |   77.77 |       50 |      50 |   77.77 | 10-11                                                                                                                                                                                                                                                                                                                       
  indexer_stargateclient.ts                  |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                                                                             
  queries.ts                                 |   75.36 |    45.45 |      70 |   76.47 | 48-50,58-59,123-127,143,194-226                                                                                                                                                                                                                                                                                             
 src/db                                      |   70.97 |    53.14 |   44.61 |   77.37 |                                                                                                                                                                                                                                                                                                                             
  cache.ts                                   |    52.2 |    23.91 |   20.51 |   62.43 | 145,198,203-207,213-217,233-237,243-247,253-257,263-267,273-277,294,327,332,336-337,341-342,347,363,368-369,374,378-379,383-403,407-408,412-413,417-418,422,425-426,434-441                                                                                                                                                 
  db.ts                                      |   85.35 |    76.59 |   92.85 |   86.09 | 111,127,154-155,187,209,262-263,286-287,298,304,318,320,322,324,328,336,340,344,346                                                                                                                                                                                                                                         
  docs.ts                                    |   59.09 |       50 |      50 |   59.09 | 97-111                                                                                                                                                                                                                                                                                                                      
  queries.ts                                 |   88.23 |       50 |     100 |   88.23 | 22,30                                                                                                                                                                                                                                                                                                                       
  schemas.ts                                 |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                                                                             
  status.ts                                  |   63.63 |      100 |      50 |   63.63 | 7-10,20                                                                                                                                                                                                                                                                                                                     
  utils.ts                                   |     100 |     92.3 |     100 |     100 | 48                                                                                                                                                                                                                                                                                                                          
 src/integrations                            |    73.6 |    64.54 |   45.33 |    72.5 |                                                                                                                                                                                                                                                                                                                             
  api.ts                                     |   69.44 |       35 |      40 |   68.57 | 39,46,66,73,76,79,82,95-101,107                                                                                                                                                                                                                                                                                             
  auth.ts                                    |      52 |    70.58 |   22.22 |      50 | 16,25-28,48,52,56,88-100,116-128,144-156,172,183-186                                                                                                                                                                                                                                                                        
  codes.ts                                   |   81.81 |       65 |      50 |   80.95 | 20,41-42,54,61,70,98-103                                                                                                                                                                                                                                                                                                    
  mustOwnBadges.ts                           |   63.15 |    28.57 |      40 |   63.15 | 20,26-29,40-43,49                                                                                                                                                                                                                                                                                                           
  numUses.ts                                 |     100 |    94.11 |     100 |     100 | 24                                                                                                                                                                                                                                                                                                                          
  passwords.ts                               |   81.25 |       70 |      80 |   81.25 | 7,25,48                                                                                                                                                                                                                                                                                                                     
  signature.ts                               |   72.72 |      100 |      40 |   72.72 | 27-30,36                                                                                                                                                                                                                                                                                                                    
  transferTimes.ts                           |      70 |      100 |      40 |      70 | 24-27,33                                                                                                                                                                                                                                                                                                                    
  types.ts                                   |    91.3 |       40 |     100 |   88.88 | 70,77                                                                                                                                                                                                                                                                                                                       
  whitelist.ts                               |   76.19 |    77.77 |      40 |   76.19 | 17,29,34,48-51                                                                                                                                                                                                                                                                                                              
 src/integrations/integration-query-handlers |      65 |    47.61 |      80 |   62.16 |                                                                                                                                                                                                                                                                                                                             
  integration-handlers.ts                    |      65 |    47.61 |      80 |   62.16 | 6,10,49-70                                                                                                                                                                                                                                                                                                                  
 src/ipfs                                    |   60.76 |    41.17 |      70 |   61.15 |                                                                                                                                                                                                                                                                                                                             
  ipfs.ts                                    |   60.76 |    41.17 |      70 |   61.15 | 33,47,73-125,141,159-160,183-185,240-301                                                                                                                                                                                                                                                                                    
 src/routes                                  |   53.04 |    38.95 |   37.11 |   53.97 |                                                                                                                                                                                                                                                                                                                             
  activityHelpers.ts                         |   61.11 |     12.5 |   36.36 |   61.11 | 32,72-73,105-106,117-140,144-171,175-176                                                                                                                                                                                                                                                                                    
  addressLists.ts                            |   90.84 |       68 |   94.73 |      90 | 42,48,52,64-66,72-73,136,142,147,217,221,287,310                                                                                                                                                                                                                                                                            
  authCodes.ts                               |     100 |     90.9 |     100 |     100 | 98                                                                                                                                                                                                                                                                                                                          
  badges.ts                                  |   62.96 |    44.44 |   33.33 |   63.46 | 36,72-73,77-78,82-83,87-88,96,106-131,151                                                                                                                                                                                                                                                                                   
  balances.ts                                |   64.83 |    55.17 |   77.77 |   63.21 | 28,45-52,67,76,90-135,146,150,154,158,162,166,170,226-227                                                                                                                                                                                                                                                                   
  broadcast.ts                               |   14.89 |        0 |       0 |   11.36 | 47,51-96,105-127                                                                                                                                                                                                                                                                                                            
  browse.ts                                  |   10.83 |        0 |       0 |   11.21 | 24-266                                                                                                                                                                                                                                                                                                                      
  claimAlerts.ts                             |   86.11 |    66.66 |     100 |   85.71 | 51-52,70,87-88                                                                                                                                                                                                                                                                                                              
  claims.ts                                  |   59.64 |    47.05 |   55.55 |   59.63 | 71-108,133,138,145,151,155-160,170-182,186,215-225,285,291,296,301,329-330,342-346,388-421,425-449                                                                                                                                                                                                                          
  collections.ts                             |   63.14 |    43.75 |   40.27 |   65.09 | 133-134,141-147,153,157,176-184,191-195,202-206,213-221,239-243,256-260,267-271,278-282,289-293,307-308,312-313,317-319,344-377,399-421,450-506,530-535,543-556,571-572,576-577,593,597,600,608-622,644,658-685,734,738-740,747,760,804-805,812-813,820-821,828-829,846-868,890-891,901,914-915,939-940,954-955,983-987,996 
  email.ts                                   |      25 |        0 |       0 |   20.58 | 9-30,38-79                                                                                                                                                                                                                                                                                                                  
  ethFirstTx.ts                              |   68.18 |       40 |   66.66 |      65 | 18,33-39                                                                                                                                                                                                                                                                                                                    
  faucet.ts                                  |   22.58 |        0 |       0 |   22.41 | 37-150                                                                                                                                                                                                                                                                                                                      
  follows.ts                                 |    9.91 |        0 |       0 |      10 | 23-99,111-171,176-216,222-239                                                                                                                                                                                                                                                                                               
  ipfs.ts                                    |   19.31 |      5.1 |    12.5 |   16.17 | 31,35-46,59,66,74-199,210-228,239-325                                                                                                                                                                                                                                                                                       
  maps.ts                                    |   19.44 |        0 |       0 |   18.75 | 15-62                                                                                                                                                                                                                                                                                                                       
  metadata.ts                                |   22.72 |        0 |       0 |      20 | 13-41                                                                                                                                                                                                                                                                                                                       
  offChainSecrets.ts                         |   88.23 |    87.71 |     100 |   87.38 | 43,59,95-98,114-126,164-165,210,215                                                                                                                                                                                                                                                                                         
  pass.ts                                    |   36.66 |        0 |       0 |   34.48 | 19-75                                                                                                                                                                                                                                                                                                                       
  refresh.ts                                 |   94.73 |    83.33 |     100 |   94.28 | 44,75                                                                                                                                                                                                                                                                                                                       
  reports.ts                                 |   83.33 |      100 |     100 |   81.81 | 23-24                                                                                                                                                                                                                                                                                                                       
  reviews.ts                                 |      20 |        0 |       0 |   16.66 | 19-32,40-96                                                                                                                                                                                                                                                                                                                 
  search.ts                                  |   36.06 |    17.47 |    9.67 |   38.88 | 35-132,145,182,206-224,233-243,261-267,288-299,365-369,382,426-434,446-463,472-483,492,495,499,504-505                                                                                                                                                                                                                      
  status.ts                                  |      50 |      100 |       0 |   42.85 | 8-12                                                                                                                                                                                                                                                                                                                        
  userHelpers.ts                             |   72.54 |    48.19 |      50 |   73.19 | 27,31,50,56,66,85,90,95,100,116,131,133,135,153-173,247,254-256,261-262                                                                                                                                                                                                                                                     
  userQueries.ts                             |   36.05 |    21.73 |    26.5 |   41.66 | 56-60,70-88,92-131,141-179,183-196,200-219,230-265,269,273-300,304-345,349-390,394-414,418-445,449-458,469-498,508-530,563-578                                                                                                                                                                                              
  users.ts                                   |   65.11 |    56.03 |   41.37 |    66.2 | 89,102-103,118,148,189,217,226-248,258,262,269-270,274-276,301,325,400-401,404-405,408-409,412-413,416-417,420-422,425-427,435-436,439-440,443-444,452-453,487-527,561,569-571,581,591-640,668-674,682-683,685-686,696-697,699-700,740-750,760,769-778,800,813-846,895,1071                                                 
  utils.ts                                   |   87.27 |    76.19 |   71.42 |   89.58 | 107-110,155                                                                                                                                                                                                                                                                                                                 
 src/testutil                                |     100 |    77.77 |     100 |     100 |                                                                                                                                                                                                                                                                                                                             
  plugins.ts                                 |     100 |    77.77 |     100 |     100 | 38-52                                                                                                                                                                                                                                                                                                                       
  utils.ts                                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                                                                             
 src/tx-handlers                             |   22.18 |        0 |       0 |   20.46 |                                                                                                                                                                                                                                                                                                                             
  approvalInfo.ts                            |   16.66 |        0 |       0 |   16.32 | 16-108                                                                                                                                                                                                                                                                                                                      
  handleMsgCreateAddressLists.ts             |   41.17 |        0 |       0 |      40 | 15-28                                                                                                                                                                                                                                                                                                                       
  handleMsgCreateCollection.ts               |      80 |      100 |       0 |      75 | 11                                                                                                                                                                                                                                                                                                                          
  handleMsgDeleteCollection.ts               |   20.58 |        0 |       0 |   18.75 | 17-79                                                                                                                                                                                                                                                                                                                       
  handleMsgTransferBadges.ts                 |   35.71 |        0 |       0 |   33.33 | 14-28                                                                                                                                                                                                                                                                                                                       
  handleMsgUniversalUpdateCollection.ts      |   13.33 |        0 |       0 |   12.94 | 24-40,52-239                                                                                                                                                                                                                                                                                                                
  handleMsgUpdateCollection.ts               |   66.66 |      100 |       0 |      60 | 11-12                                                                                                                                                                                                                                                                                                                       
  handleMsgUpdateUserApprovals.ts            |      24 |        0 |       0 |   22.72 | 14-61                                                                                                                                                                                                                                                                                                                       
  handleNewAccount.ts                        |   31.25 |        0 |       0 |   26.66 | 18-37                                                                                                                                                                                                                                                                                                                       
  handleTransfers.ts                         |   17.39 |        0 |       0 |      15 | 15-67                                                                                                                                                                                                                                                                                                                       
 src/utils                                   |   44.44 |       25 |    42.1 |   46.93 |                                                                                                                                                                                                                                                                                                                             
  dataCleaners.ts                            |      60 |    26.31 |   63.63 |   57.89 | 20-27,41,72-79                                                                                                                                                                                                                                                                                                              
  ensResolvers.ts                            |   34.37 |    14.28 |   14.28 |   39.28 | 14,18-23,28-37,42-48                                                                                                                                                                                                                                                                                                        
  loadBalancer.ts                            |      50 |      100 |       0 |      50 | 7                                                                                                                                                                                                                                                                                                                           
---------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
